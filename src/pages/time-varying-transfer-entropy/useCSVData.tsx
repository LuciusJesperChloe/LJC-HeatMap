import React, { useEffect, useState } from "react";
import Papa from "papaparse";

const useCSVData = () => {
  const [startYearFreq, setStartYearFreq] = useState(0);
  const [var1, setVar1] = useState("");
  const [var2, setVar2] = useState("");
  const [startYear, setStartYear] = useState<number | null>(null);
  const [endYear, setEndYear] = useState<number | null>(null);

  const getColorForStats = (pVal: number, te: number): string => {
    if (pVal <= 0.01) {
      if (te < 1 / 3) return "#F60000";
      else if (te < 2 / 3) return "#DA0000";
      else return "#BC0000";
    } else if (pVal <= 0.05) {
      if (te < 1 / 3) return "#FFC000";
      else if (te < 2 / 3) return "#FF9933";
      else return "#F26A0E";
    } else if (pVal <= 0.1) {
      if (te < 1 / 3) return "#FFFF00";
      else if (te < 2 / 3) return "#FAF400";
      else return "#D7D200";
    } else if (pVal <= 0.2) {
      if (te < 1 / 3) return "#00C85A";
      else if (te < 2 / 3) return "#00B050";
      else return "#009A46";
    } else return "#0400B7";
  };

  const sampleData = {
    section_1_colors_x_to_y: [
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
    ],
    section_1_colors_y_to_x: [
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
      "#F60000",
    ],
    section_2_colors_x_to_y: [
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
    ],
    section_2_colors_y_to_x: [
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
      "#FFC000",
    ],
    section_3_colors_x_to_y: [
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
    ],
    section_3_colors_y_to_x: [
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
      "#FFFF00",
    ],
    section_4_colors_x_to_y: [
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
    ],
    section_4_colors_y_to_x: [
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
      "#00C85A",
    ],
    section_5_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_5_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_6_colors_x_to_y: [
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
    ],
    section_6_colors_y_to_x: [
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
      "#DA0000",
    ],
    section_7_colors_x_to_y: [
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
    ],
    section_7_colors_y_to_x: [
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
    ],
    section_8_colors_x_to_y: [
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
    ],
    section_8_colors_y_to_x: [
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
      "#FAF400",
    ],
    section_9_colors_x_to_y: [
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
    ],
    section_9_colors_y_to_x: [
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
      "#00B050",
    ],
    section_10_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_10_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_11_colors_x_to_y: [
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
    ],
    section_11_colors_y_to_x: [
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
      "#BC0000",
    ],
    section_12_colors_x_to_y: [
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
    ],
    section_12_colors_y_to_x: [
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
      "#F26A0E",
    ],
    section_13_colors_x_to_y: [
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
    ],
    section_13_colors_y_to_x: [
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
      "#D7D200",
    ],
    section_14_colors_x_to_y: [
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
    ],
    section_14_colors_y_to_x: [
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
      "#009A46",
    ],
    section_15_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_15_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_16_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_16_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_17_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_17_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_18_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_18_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_19_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_19_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_20_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_20_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_21_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_21_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_22_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_22_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_23_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_23_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_24_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_24_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_25_colors_x_to_y: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_25_colors_y_to_x: [
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
      "#0400B7",
    ],
    section_26_colors_x_to_y: ["#0400B7"],
    section_26_colors_y_to_x: ["#0400B7"],
  };

  const [sectionColors, setSectionColors] = useState<{
    [key: string]: string[];
  }>({});

  const [fileName, setFileName] = useState<string>("");

  const handleFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (file) {
      //   setIsLoading(true);
      setFileName(file.name);
      //   setError(null);

      type T_AVG_DATA_SET = {
        windows_size: string;
        data_objs: T_AVG_DATA_OBJ[];
      };

      type T_AVG_DATA_SET_MAP = {
        [windows_size: string]: T_AVG_DATA_SET;
      };

      type T_AVG_DATA_OBJ = {
        avgTE_x_to_y: number;
        avgPval_x_to_y: number;
        avgTE_y_to_x: number;
        avgPval_y_to_x: number;
        avgStat_x: number;
        avgStat_y: number;
      };
      const newSectionColors: { [key: string]: string[] } = {};

      // newSectionColors[`section_${k + 1}_colors_x_to_y`].push(
      //   finalArrValues.colx_y
      // );
      // newSectionColors[`section_${k + 1}_colors_y_to_x`].push(
      //   finalArrValues.coly_x
      // );

      Papa.parse(file, {
        complete: (results: any) => {
          if (results.data && Array.isArray(results.data)) {
            const rawData = results.data as string[][];

            console.log("excel data: ", rawData);
            const windowsSizes = new Set<string>();

            let i = 0;
            for (const row of rawData) {
              if (i !== 0) {
                windowsSizes.add(row[1]);
              }
              i++;
            }

            const windowsSizesList = Array.from(windowsSizes);

            // create map
            const dataSetMap: T_AVG_DATA_SET_MAP = windowsSizesList.reduce(
              (acc: any, windowSize: string) => {
                acc[windowSize] = {
                  windows_size: windowSize,
                  data_objs: [],
                };
                return acc;
              },
              {}
            );

            // populate map
            let m = 0;
            for (const row of rawData) {
              if (m !== 0) {
                dataSetMap[row[1]].data_objs = [
                  ...dataSetMap[row[1]].data_objs,
                  {
                    avgTE_x_to_y: Number(row[2]),
                    avgPval_x_to_y: Number(row[4]),
                    avgTE_y_to_x: Number(row[3]),
                    avgPval_y_to_x: Number(row[5]),
                    avgStat_x: Number(row[6]),
                    avgStat_y: Number(row[7]),
                  },
                ];
              }
              m++;
            }

            // for (let k = 0; k < startYearFreq; k++) {
            //   years[k] = [];
            //   newSectionColors[`section_${k + 1}_colors_x_to_y`] = [];
            //   newSectionColors[`section_${k + 1}_colors_y_to_x`] = [];
            // }

            let section_no = 1;
            for (const window_size of Object.values(dataSetMap)) {
              newSectionColors[`section_${section_no}_colors_x_to_y`] = [];
              newSectionColors[`section_${section_no}_colors_y_to_x`] = [];
              for (const window_size_obj of window_size.data_objs) {
                const finalArrValues = {
                  avgTE_x_to_y:
                    Math.round(window_size_obj.avgTE_x_to_y * 10000) / 10000,
                  avgPval_x_to_y:
                    Math.round(window_size_obj.avgPval_x_to_y * 10000) / 10000,
                  avgTE_y_to_x:
                    Math.round(window_size_obj.avgTE_y_to_x * 10000) / 10000,
                  avgPval_y_to_x:
                    Math.round(window_size_obj.avgPval_y_to_x * 10000) / 10000,
                  avgStat_x:
                    Math.round(window_size_obj.avgStat_x * 10000) / 10000,
                  avgStat_y:
                    Math.round(window_size_obj.avgStat_y * 10000) / 10000,
                  colx_y: getColorForStats(
                    window_size_obj.avgPval_x_to_y,
                    window_size_obj.avgTE_x_to_y
                  ),
                  coly_x: getColorForStats(
                    window_size_obj.avgPval_y_to_x,
                    window_size_obj.avgTE_y_to_x
                  ),

                  upLine_x: true,
                  downLine_x: true,
                  leftLine_x: true,
                  rightLine_x: true,
                  upLine_y: true,
                  downLine_y: true,
                  leftLine_y: true,
                  rightLine_y: true,
                };

                newSectionColors[`section_${section_no}_colors_x_to_y`].push(
                  finalArrValues.colx_y
                );
                newSectionColors[`section_${section_no}_colors_y_to_x`].push(
                  finalArrValues.coly_x
                );
              }
              section_no += 1;
            }

            // console.log("dataSetMap: ", dataSetMap);
            console.log("newSectionColors: ", newSectionColors);
            setSectionColors(newSectionColors);
          }
        },
      });
    }
  };

  return {
    handleFileUpload,
    sectionColors,
    startYearFreq,
    var1,
    var2,
    startYear,
    endYear,
  };
};

export default useCSVData;
